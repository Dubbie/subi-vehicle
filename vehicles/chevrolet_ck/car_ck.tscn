[gd_scene load_steps=41 format=3 uid="uid://c1vabacdku00h"]

[ext_resource type="PackedScene" uid="uid://bmrx0ppni2eb5" path="res://vehicles/_base/base_vehicle.tscn" id="1_2gvmu"]
[ext_resource type="Script" uid="uid://hgrcvwrnhy3a" path="res://src/vehicle/tire_models/brush_tire_model.gd" id="2_8ub01"]
[ext_resource type="PackedScene" uid="uid://cbrx5wbd4ld35" path="res://vehicles/chevrolet_ck/assets/ck.glb" id="2_gqip3"]
[ext_resource type="Script" uid="uid://dkfcuqg8x6c6o" path="res://src/vehicle/engine_sound/engine_sound_loop.gd" id="2_yexvl"]
[ext_resource type="AudioStream" uid="uid://w7k2qtl644wg" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_1000_off.wav" id="3_j6c73"]
[ext_resource type="AudioStream" uid="uid://d4iipdp87ryw4" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_1000_on.wav" id="4_oxtur"]
[ext_resource type="AudioStream" uid="uid://b15chmv6s6yuy" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_1500_off.wav" id="5_3yelo"]
[ext_resource type="AudioStream" uid="uid://b2hpncpwn38fn" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_1500_on.wav" id="6_s52ji"]
[ext_resource type="AudioStream" uid="uid://ciax65rf2ocog" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_2000_off.wav" id="7_rlola"]
[ext_resource type="AudioStream" uid="uid://du17b47eiyg4" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_2000_on.wav" id="8_6ys54"]
[ext_resource type="AudioStream" uid="uid://c1ebdj2t8uf7c" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_2500_off.wav" id="9_cuk34"]
[ext_resource type="AudioStream" uid="uid://dgdt1uxc0emsl" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_2500_on.wav" id="10_23kt6"]
[ext_resource type="AudioStream" uid="uid://2uihh4yvmuo3" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_3000_off.wav" id="11_qrxnb"]
[ext_resource type="AudioStream" uid="uid://dw75ihaheu3lc" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_3000_on.wav" id="12_cnsdp"]
[ext_resource type="AudioStream" uid="uid://dnift7jpi3x7u" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_3500_off.wav" id="13_v3vmv"]
[ext_resource type="AudioStream" uid="uid://d1kecb2nd8vrj" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_3500_on.wav" id="14_34ar7"]
[ext_resource type="AudioStream" uid="uid://dai0snb6rspul" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_4000_off.wav" id="15_sr158"]
[ext_resource type="AudioStream" uid="uid://bjb4tauukhbx3" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_4000_on.wav" id="16_ipwsh"]
[ext_resource type="AudioStream" uid="uid://cpwbilmr7d440" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_4500_off.wav" id="17_fah2q"]
[ext_resource type="AudioStream" uid="uid://bvhq0uml8k8qc" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_4500_on.wav" id="18_418uy"]
[ext_resource type="AudioStream" uid="uid://b8t2jy8njibxb" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_5000_off.wav" id="19_qkdjb"]
[ext_resource type="AudioStream" uid="uid://dew01e3frcook" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_5000_on.wav" id="20_2qgmo"]
[ext_resource type="AudioStream" uid="uid://demk750yi2oxv" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_5500_off.wav" id="21_jafv6"]
[ext_resource type="AudioStream" uid="uid://00a7fd27v2yn" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_5500_on.wav" id="22_4sojw"]
[ext_resource type="AudioStream" uid="uid://c41e84qkfvsav" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_6000_off.wav" id="23_o6ttm"]
[ext_resource type="AudioStream" uid="uid://bx8qedsjwlgnx" path="res://vehicles/corvette_c5/assets/engine_sound/corvette_6500_on.wav" id="24_v2h2d"]

[sub_resource type="Resource" id="Resource_4vuw8"]
script = ExtResource("2_yexvl")
rpm = 1000
on_throttle_sound = ExtResource("4_oxtur")
off_throttle_sound = ExtResource("3_j6c73")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_ley3i"]
script = ExtResource("2_yexvl")
rpm = 1500
on_throttle_sound = ExtResource("6_s52ji")
off_throttle_sound = ExtResource("5_3yelo")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_kucqc"]
script = ExtResource("2_yexvl")
rpm = 2000
on_throttle_sound = ExtResource("8_6ys54")
off_throttle_sound = ExtResource("7_rlola")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_i180o"]
script = ExtResource("2_yexvl")
rpm = 2500
on_throttle_sound = ExtResource("10_23kt6")
off_throttle_sound = ExtResource("9_cuk34")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_w8lgf"]
script = ExtResource("2_yexvl")
rpm = 3000
on_throttle_sound = ExtResource("12_cnsdp")
off_throttle_sound = ExtResource("11_qrxnb")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_gnmeh"]
script = ExtResource("2_yexvl")
rpm = 3500
on_throttle_sound = ExtResource("14_34ar7")
off_throttle_sound = ExtResource("13_v3vmv")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_hxnwd"]
script = ExtResource("2_yexvl")
rpm = 4000
on_throttle_sound = ExtResource("16_ipwsh")
off_throttle_sound = ExtResource("15_sr158")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_5bvh0"]
script = ExtResource("2_yexvl")
rpm = 4500
on_throttle_sound = ExtResource("18_418uy")
off_throttle_sound = ExtResource("17_fah2q")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_pq2p7"]
script = ExtResource("2_yexvl")
rpm = 5000
on_throttle_sound = ExtResource("20_2qgmo")
off_throttle_sound = ExtResource("19_qkdjb")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_6jcw6"]
script = ExtResource("2_yexvl")
rpm = 5500
on_throttle_sound = ExtResource("22_4sojw")
off_throttle_sound = ExtResource("21_jafv6")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Resource" id="Resource_u83v6"]
script = ExtResource("2_yexvl")
rpm = 6000
on_throttle_sound = ExtResource("24_v2h2d")
off_throttle_sound = ExtResource("23_o6ttm")
metadata/_custom_type_script = "uid://dkfcuqg8x6c6o"

[sub_resource type="Curve" id="Curve_gqip3"]
_limits = [0.0, 375.0, 0.0, 5500.0]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(800, 280), 0.130589, 0.130589, 0, 0, Vector2(1500, 360), 0.0544741, 0.0544741, 0, 0, Vector2(2000, 375), 0.0, 0.0, 0, 0, Vector2(3000, 350), -0.0392495, -0.0392495, 0, 0, Vector2(4000, 280), -0.087897, -0.087897, 0, 0, Vector2(4800, 210), -0.101194, 0.0, 0, 0, Vector2(5500, 0), 0.0, 0.0, 0, 0]
point_count = 8

[sub_resource type="Resource" id="Resource_2jxh3"]
script = ExtResource("2_8ub01")
peak_longitudinal_mu = 0.85
peak_lateral_mu = 0.8
sliding_longitudinal_mu = 0.65
sliding_lateral_mu = 0.6
peak_lon_slip_ratio = 0.14
peak_lat_slip_angle_deg = 8.5
lon_curve_sharpness = 1.2
lat_curve_sharpness = 1.4
optimal_load = 4500.0
load_sensitivity = 0.4
friction_circle_shape = 1.2
combined_slip_falloff = 0.4
relaxation_length = 0.18
min_relaxation_speed = 1.0
metadata/_custom_type_script = "uid://hgrcvwrnhy3a"

[sub_resource type="BoxShape3D" id="BoxShape3D_gqip3"]
size = Vector3(1.5929, 1.2782, 5.34804)

[node name="CarCK" instance=ExtResource("1_2gvmu")]
mass = 1700.0
center_of_mass = Vector3(0, 0.1, -0.17)

[node name="BaseEngineController" parent="." index="0"]
sound_loops = Array[ExtResource("2_yexvl")]([SubResource("Resource_4vuw8"), SubResource("Resource_ley3i"), SubResource("Resource_kucqc"), SubResource("Resource_i180o"), SubResource("Resource_w8lgf"), SubResource("Resource_gnmeh"), SubResource("Resource_hxnwd"), SubResource("Resource_5bvh0"), SubResource("Resource_pq2p7"), SubResource("Resource_6jcw6"), SubResource("Resource_u83v6")])

[node name="DrivetrainController" parent="Components" index="2"]
torque_curve = SubResource("Curve_gqip3")
engine_inertia = 0.4
engine_brake_torque = 40.0
engine_friction_coefficient = 0.007
engine_min_rpm = 850.0
engine_max_rpm = 4800.0
gear_ratios = Array[float]([-2.29, 0.0, 3.06, 1.63, 1.0, 0.7])
upshift_rpm = 4200.0
downshift_rpm = 2000.0
shift_delay = 0.4
clutch_torque_capacity = 400.0
static_friction_multiplier = 1.2
lockup_slip_threshold = 100.0
clutch_heat_capacity = 700.0
clutch_cooling_rate = 0.5
fade_start_temperature = 220.0
fade_complete_temperature = 380.0

[node name="ECUController" parent="Components" index="4"]
rev_limit_rpm = 4800.0
rev_resume_rpm = 4600.0

[node name="FrontAxle" parent="Axles" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.67)
z_offset = -1.67
track_width = 1.672
max_spring_length = 0.45
spring_stiffness = 32000.0
spring_bump_damping = 3200.0
spring_rebound_damping = 8000.0
ride_height_adjust = 0.01
anti_roll_stiffness = 9500.0
camber_angle_deg = 0.5
caster_angle_deg = 2.5
toe_angle_deg = 0.1
wheel_radius = 0.367
wheel_mass = 28.0
wheel_width = 0.235
tire_model = SubResource("Resource_2jxh3")

[node name="WheelFL" parent="Axles/FrontAxle" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.836, 0, 0)

[node name="CSGCylinder3D" parent="Axles/FrontAxle/WheelFL/Animation/Camber/Wheel" index="0"]
radius = 0.367
height = 0.235

[node name="WheelFR" parent="Axles/FrontAxle" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.836, 0, 0)

[node name="CSGCylinder3D" parent="Axles/FrontAxle/WheelFR/Animation/Camber/Wheel" index="0"]
radius = 0.367
height = 0.235

[node name="RearAxle" parent="Axles" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.67)
z_offset = 1.67
track_width = 1.64
diff_ratio = 3.42
max_spring_length = 0.4
spring_stiffness = 60000.0
spring_bump_damping = 3000.0
spring_rebound_damping = 5500.0
anti_roll_stiffness = 0.0
camber_angle_deg = 0.0
toe_angle_deg = 0.0
is_solid_axle = true
differential_type = 0
wheel_radius = 0.367
wheel_mass = 28.0
wheel_width = 0.235
tire_model = SubResource("Resource_2jxh3")

[node name="WheelRL" parent="Axles/RearAxle" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.82, 0, 0)

[node name="CSGCylinder3D" parent="Axles/RearAxle/WheelRL/Animation/Camber/Wheel" index="0"]
radius = 0.367
height = 0.235

[node name="WheelRR" parent="Axles/RearAxle" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.82, 0, 0)

[node name="CSGCylinder3D" parent="Axles/RearAxle/WheelRR/Animation/Camber/Wheel" index="0"]
radius = 0.367
height = 0.235

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0165405, 0.616272, 0.325554)
shape = SubResource("BoxShape3D_gqip3")

[node name="ck" parent="." index="6" instance=ExtResource("2_gqip3")]
transform = Transform3D(-1.58, 0, 2.38573e-07, 0, 1.58, 0, -2.38573e-07, 0, -1.58, 0, -0.44714, -2.46305)

[editable path="Axles/FrontAxle/WheelFL"]
[editable path="Axles/FrontAxle/WheelFR"]
[editable path="Axles/RearAxle/WheelRL"]
[editable path="Axles/RearAxle/WheelRR"]
